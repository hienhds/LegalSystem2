{
	"info": {
		"_postman_id": "schedule-service-v2-2026",
		"name": "Schedule Service API - v2 (JWT Based)",
		"description": "Complete API collection for Schedule Service (Port 8084)\n\n**‚ú® JWT-Based Authentication:**\n- T·∫•t c·∫£ endpoints t·ª± ƒë·ªông l·∫•y userId t·ª´ JWT token\n- Kh√¥ng c·∫ßn truy·ªÅn citizenId, userId, lawyerId trong query params\n- Ch·ªâ c·∫ßn login v√† token s·∫Ω t·ª± ƒë·ªông x√°c ƒë·ªãnh user\n\n**Features:**\n- Appointment Management (Create, View, Confirm, Reject, Cancel, Complete, Rate)\n- Lawyer Schedule Management (Availability v·ªõi multi-day support, Time Slots)\n- Work Address Management (ƒê·ªãa ch·ªâ l√†m vi·ªác)\n\n**Setup:**\n1. Login t·ª´ User Service ‚Üí accessToken t·ª± ƒë·ªông l∆∞u\n2. T·∫•t c·∫£ requests d√πng Bearer token\n3. UserId ƒë∆∞·ª£c extract t·ª± ƒë·ªông t·ª´ JWT\n\n**Port:** 8084",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{accessToken}}",
				"type": "string"
			}
		]
	},
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8084",
			"type": "string"
		},
		{
			"key": "userServiceUrl",
			"value": "http://localhost:8081",
			"type": "string"
		},
		{
			"key": "accessToken",
			"value": "",
			"type": "string"
		},
		{
			"key": "appointmentId",
			"value": "",
			"type": "string"
		},
		{
			"key": "lawyerId",
			"value": "7",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "0. Authentication",
			"item": [
				{
					"name": "Login (User Service)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.data) {",
									"        pm.collectionVariables.set('accessToken', jsonData.data.accessToken);",
									"        console.log('‚úÖ Token saved');",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"vutienquang86@gmail.com\",\n  \"password\": \"123456\"\n}"
						},
						"url": {
							"raw": "{{userServiceUrl}}/api/auth/login",
							"host": ["{{userServiceUrl}}"],
							"path": ["api", "auth", "login"]
						},
						"description": "üîê Login ƒë·ªÉ l·∫•y JWT token"
					},
					"response": []
				}
			]
		},
		{
			"name": "1. Appointment Management",
			"item": [
				{
					"name": "Create Appointment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201 || pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.data && jsonData.data.appointmentId) {",
									"        pm.collectionVariables.set('appointmentId', jsonData.data.appointmentId);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"lawyerId\": 7,\n  \"appointmentDate\": \"2026-01-10\",\n  \"appointmentTime\": \"14:00:00\",\n  \"description\": \"T∆∞ v·∫•n v·ªÅ h·ª£p ƒë·ªìng lao ƒë·ªông. T√¥i ƒëang c√≥ tranh ch·∫•p v·ªõi c√¥ng ty v·ªÅ th·ªùi gian th·ª≠ vi·ªác.\",\n  \"consultationType\": \"ONLINE\",\n  \"meetingLocation\": \"Google Meet\",\n  \"durationMinutes\": 60\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/appointments",
							"host": ["{{baseUrl}}"],
							"path": ["api", "appointments"]
						},
						"description": "üéØ T·∫°o l·ªãch h·∫πn m·ªõi\n‚ú® JWT Auto: CitizenId t·ª´ token"
					},
					"response": []
				},
				{
					"name": "Get My Appointments (Citizen)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/appointments/my-appointments?page=0&size=10",
							"host": ["{{baseUrl}}"],
							"path": ["api", "appointments", "my-appointments"],
							"query": [
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"},
								{"key": "status", "value": "PENDING", "disabled": true}
							]
						},
						"description": "üéØ Danh s√°ch l·ªãch h·∫πn c·ªßa t√¥i\n‚ú® JWT Auto"
					},
					"response": []
				},
				{
					"name": "Get Lawyer Appointments (Public)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/appointments/lawyer/{{lawyerId}}?page=0&size=10",
							"host": ["{{baseUrl}}"],
							"path": ["api", "appointments", "lawyer", "{{lawyerId}}"],
							"query": [
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"}
							]
						},
						"description": "üéØ Xem l·ªãch h·∫πn c·ªßa lu·∫≠t s∆∞ (PUBLIC)\nD√πng lawyerId trong path"
					},
					"response": []
				},
				{
					"name": "Get Appointment By ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/appointments/{{appointmentId}}?isLawyer=false",
							"host": ["{{baseUrl}}"],
							"path": ["api", "appointments", "{{appointmentId}}"],
							"query": [
								{"key": "isLawyer", "value": "false", "description": "false=citizen, true=lawyer"}
							]
						},
						"description": "üéØ Chi ti·∫øt l·ªãch h·∫πn\n‚ú® JWT Auto\n?isLawyer=false (citizen) or true (lawyer)"
					},
					"response": []
				},
				{
					"name": "Confirm Appointment (Lawyer)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"message\": \"ƒê√£ x√°c nh·∫≠n. H·∫πn g·∫∑p b·∫°n!\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/appointments/{{appointmentId}}/confirm",
							"host": ["{{baseUrl}}"],
							"path": ["api", "appointments", "{{appointmentId}}", "confirm"]
						},
						"description": "üéØ Lu·∫≠t s∆∞ x√°c nh·∫≠n\n‚ú® JWT Auto"
					},
					"response": []
				},
				{
					"name": "Reject Appointment (Lawyer)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"reason\": \"C√≥ l·ªãch tr√¨nh kh√°c. Vui l√≤ng ch·ªçn khung gi·ªù kh√°c.\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/appointments/{{appointmentId}}/reject",
							"host": ["{{baseUrl}}"],
							"path": ["api", "appointments", "{{appointmentId}}", "reject"]
						},
						"description": "üéØ Lu·∫≠t s∆∞ t·ª´ ch·ªëi\n‚ú® JWT Auto"
					},
					"response": []
				},
				{
					"name": "Cancel Appointment",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"reason\": \"C√≥ vi·ªác ƒë·ªôt xu·∫•t. Xin l·ªói.\"\n}"
						},
						"url": {
						"raw": "{{baseUrl}}/api/appointments/{{appointmentId}}/cancel?isLawyer=false",
						"host": ["{{baseUrl}}"],
						"path": ["api", "appointments", "{{appointmentId}}", "cancel"],
						"query": [
							{"key": "isLawyer", "value": "false", "description": "false=citizen, true=lawyer"}
						]
					},
					"description": "üéØ H·ªßy l·ªãch h·∫πn\n‚ú® JWT Auto\n?isLawyer=false (citizen) or true (lawyer)"
					},
					"response": []
				},
				{
					"name": "Complete Appointment (Lawyer)",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/appointments/{{appointmentId}}/complete",
							"host": ["{{baseUrl}}"],
							"path": ["api", "appointments", "{{appointmentId}}", "complete"]
						},
						"description": "üéØ Ho√†n th√†nh\n‚ú® JWT Auto"
					},
					"response": []
				},
				{
					"name": "Rate Appointment (Citizen)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"rating\": 5,\n  \"comment\": \"T∆∞ v·∫•n r·∫•t chi ti·∫øt v√† nhi·ªát t√¨nh!\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/appointments/{{appointmentId}}/rate",
							"host": ["{{baseUrl}}"],
							"path": ["api", "appointments", "{{appointmentId}}", "rate"]
						},
						"description": "üéØ ƒê√°nh gi√°\n‚ú® JWT Auto"
					},
					"response": []
				}
			]
		},
		{
			"name": "2. Lawyer Schedule",
			"item": [
				{
					"name": "Create Availability (Multi-Day)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"lawyerId\": {{lawyerId}},\n  \"daysOfWeek\": [1, 2, 3, 4, 5],\n  \"startTime\": \"09:00:00\",\n  \"endTime\": \"17:00:00\",\n  \"workAddress\": \"T·∫ßng 5, To√† nh√† ABC, 123 Nguy·ªÖn Hu·ªá, Q1, TP.HCM\",\n  \"workAddressDetails\": \"Ph√≤ng 501, b√™n thang m√°y\",\n  \"isActive\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/lawyer-schedule/availability",
							"host": ["{{baseUrl}}"],
							"path": ["api", "lawyer-schedule", "availability"]
						},
						"description": "üéØ T·∫°o khung gi·ªù cho nhi·ªÅu ng√†y\n‚ú® Multi-day support: [1,2,3,4,5] = T2-T6"
					},
					"response": []
				},
				{
					"name": "Create Availability (Single Day)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"lawyerId\": {{lawyerId}},\n  \"daysOfWeek\": [6],\n  \"startTime\": \"10:00:00\",\n  \"endTime\": \"16:00:00\",\n  \"workAddress\": \"VP lu·∫≠t s∆∞ XYZ, 456 L√™ L·ª£i, Q1\",\n  \"workAddressDetails\": \"T·∫ßng 3\",\n  \"isActive\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/lawyer-schedule/availability",
							"host": ["{{baseUrl}}"],
							"path": ["api", "lawyer-schedule", "availability"]
						},
						"description": "T·∫°o khung gi·ªù cho 1 ng√†y (T7)"
					},
					"response": []
				},
				{
					"name": "Update Availability",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"dayOfWeek\": 1,\n  \"startTime\": \"08:00:00\",\n  \"endTime\": \"18:00:00\",\n  \"workAddress\": \"ƒê·ªãa ch·ªâ m·ªõi\",\n  \"isActive\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/lawyer-schedule/availability/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "lawyer-schedule", "availability", "1"]
						},
						"description": "C·∫≠p nh·∫≠t khung gi·ªù"
					},
					"response": []
				},
				{
					"name": "Delete Availability",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/lawyer-schedule/availability/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "lawyer-schedule", "availability", "1"]
						},
						"description": "X√≥a khung gi·ªù"
					},
					"response": []
				},
				{
					"name": "Get My Availabilities",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/lawyer-schedule/availability",
							"host": ["{{baseUrl}}"],
							"path": ["api", "lawyer-schedule", "availability"]
						},
						"description": "L·∫•y khung gi·ªù c·ªßa t√¥i"
					},
					"response": []
				},
				{
					"name": "Get Lawyer Availabilities (Public)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/lawyer-schedule/availability/lawyer/{{lawyerId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "lawyer-schedule", "availability", "lawyer", "{{lawyerId}}"]
						},
						"description": "Xem khung gi·ªù c·ªßa lu·∫≠t s∆∞ (public)"
					},
					"response": []
				},
				{
					"name": "Get Schedule by Date",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/lawyer-schedule/schedule/lawyer/{{lawyerId}}?date=2026-01-10",
							"host": ["{{baseUrl}}"],
							"path": ["api", "lawyer-schedule", "schedule", "lawyer", "{{lawyerId}}"],
							"query": [
								{"key": "date", "value": "2026-01-10"}
							]
						},
						"description": "Xem l·ªãch theo ng√†y"
					},
					"response": []
				},
				{
					"name": "Check Availability",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/lawyer-schedule/check-availability/lawyer/{{lawyerId}}?dateTime=2026-01-10T14:00:00&durationMinutes=60",
							"host": ["{{baseUrl}}"],
							"path": ["api", "lawyer-schedule", "check-availability", "lawyer", "{{lawyerId}}"],
							"query": [
								{"key": "dateTime", "value": "2026-01-10T14:00:00"},
								{"key": "durationMinutes", "value": "60"}
							]
						},
						"description": "Ki·ªÉm tra khung gi·ªù tr·ªëng"
					},
					"response": []
				}
			]
		}
	]
}
